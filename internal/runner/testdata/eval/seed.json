{
  "examples": [
    {
      "id": "exact_value_hash_match",
      "description": "Request hash matches a mock exactly at Priority 1 (unused span by input value hash)",
      "tags": ["exact_match", "P1"],
      "config": {
        "allowSuiteWideMatching": false
      },
      "traceMocks": [
        {
          "spanId": "span-1",
          "traceId": "trace-1",
          "packageName": "http",
          "inputValue": {"method": "GET", "path": "/users"},
          "inputSchema": {
            "type": "OBJECT",
            "properties": {
              "method": {"type": "STRING"},
              "path": {"type": "STRING"}
            }
          },
          "timestamp": "2025-01-01T00:00:01Z"
        },
        {
          "spanId": "span-2",
          "traceId": "trace-1",
          "packageName": "http",
          "inputValue": {"method": "POST", "path": "/orders"},
          "inputSchema": {
            "type": "OBJECT",
            "properties": {
              "method": {"type": "STRING"},
              "path": {"type": "STRING"}
            }
          },
          "timestamp": "2025-01-01T00:00:02Z"
        }
      ],
      "suiteMocks": [],
      "globalMocks": [],
      "requests": [
        {
          "request": {
            "packageName": "http",
            "inputValue": {"method": "GET", "path": "/users"},
            "inputSchema": {
              "type": "OBJECT",
              "properties": {
                "method": {"type": "STRING"},
                "path": {"type": "STRING"}
              }
            }
          },
          "expected": {
            "matchedSpanId": "span-1",
            "matchType": "INPUT_VALUE_HASH",
            "matchScope": "TRACE"
          }
        }
      ]
    },
    {
      "id": "schema_match_similarity_picks_closest",
      "description": "Two mocks share a schema hash but have different input values. Similarity scoring picks the mock with the more similar query.",
      "tags": ["schema_match", "similarity", "P7"],
      "config": {
        "allowSuiteWideMatching": false
      },
      "traceMocks": [
        {
          "spanId": "span-users",
          "traceId": "trace-1",
          "packageName": "pg",
          "inputValue": {
            "query": "SELECT * FROM users WHERE id = $1",
            "parameters": ["user-123"]
          },
          "inputSchema": {
            "type": "OBJECT",
            "properties": {
              "query": {"type": "STRING"},
              "parameters": {
                "type": "ORDERED_LIST",
                "items": {"type": "STRING"}
              }
            }
          },
          "timestamp": "2025-01-01T00:00:01Z"
        },
        {
          "spanId": "span-orders",
          "traceId": "trace-1",
          "packageName": "pg",
          "inputValue": {
            "query": "SELECT * FROM orders WHERE id = $1",
            "parameters": ["order-456"]
          },
          "inputSchema": {
            "type": "OBJECT",
            "properties": {
              "query": {"type": "STRING"},
              "parameters": {
                "type": "ORDERED_LIST",
                "items": {"type": "STRING"}
              }
            }
          },
          "timestamp": "2025-01-01T00:00:02Z"
        }
      ],
      "suiteMocks": [],
      "globalMocks": [],
      "requests": [
        {
          "request": {
            "packageName": "pg",
            "inputValue": {
              "query": "SELECT * FROM orders WHERE id = $1",
              "parameters": ["order-789"]
            },
            "inputSchema": {
              "type": "OBJECT",
              "properties": {
                "query": {"type": "STRING"},
                "parameters": {
                  "type": "ORDERED_LIST",
                  "items": {"type": "STRING"}
                }
              }
            }
          },
          "expected": {
            "matchedSpanId": "span-orders",
            "matchType": "INPUT_SCHEMA_HASH",
            "matchScope": "TRACE"
          }
        }
      ]
    },
    {
      "id": "no_match_wrong_package",
      "description": "Request is for a package that has no matching mocks at any level",
      "tags": ["no_match"],
      "config": {
        "allowSuiteWideMatching": false
      },
      "traceMocks": [
        {
          "spanId": "span-http",
          "traceId": "trace-1",
          "packageName": "http",
          "inputValue": {"method": "GET", "path": "/health"},
          "inputSchema": {
            "type": "OBJECT",
            "properties": {
              "method": {"type": "STRING"},
              "path": {"type": "STRING"}
            }
          },
          "timestamp": "2025-01-01T00:00:01Z"
        }
      ],
      "suiteMocks": [],
      "globalMocks": [],
      "requests": [
        {
          "request": {
            "packageName": "pg",
            "inputValue": {
              "query": "SELECT 1"
            },
            "inputSchema": {
              "type": "OBJECT",
              "properties": {
                "query": {"type": "STRING"}
              }
            }
          },
          "expected": {
            "matchedSpanId": null,
            "matchType": "",
            "matchScope": ""
          }
        }
      ]
    }
  ]
}
